[platformio]
default_envs = default_env

[env]
platform = espressif32
;platform = https://github.com/platformio/platform-espressif32.git
board = lolin32_lite
framework = arduino
;lib_extra_dirs = ~/wrk/libs
lib_deps = 
	Wire
	SPI
    mikalhart/TinyGPSPlus @ ^1.0.3
	olikraus/U8g2 @ ^2.32.10
	h2zero/NimBLE-Arduino @ ^1.3.7
	;rlogiacco/CircularBuffer @ ^1.3.3
	https://github.com/gsoros/CircularBuffer.git
	lorol/LittleFS_esp32 @ ^1.0.6
	;me-no-dev/AsyncTCP @ ^1.1.1 ; has ref to Serial
	https://github.com/me-no-dev/AsyncTCP.git
	me-no-dev/ESP Async WebServer @ ^1.2.3

monitor_speed = 115200
monitor_filters = 
	esp32_exception_decoder
	default

[common]
build_flags = 
	;-DCONFIG_BT_NIMBLE_ROLE_CENTRAL_DISABLED ; = client
	;-DCONFIG_BT_NIMBLE_ROLE_OBSERVER_DISABLED ; = scan
	;-DCONFIG_BT_NIMBLE_ROLE_PERIPHERAL_DISABLED ; = server
	;-DCONFIG_BT_NIMBLE_ROLE_BROADCASTER_DISABLED ; advertising
	-DCONFIG_BT_NIMBLE_MAX_CONNECTIONS=3
	-DCONFIG_BT_NIMBLE_MAX_BONDS=3
	-DCONFIG_BT_NIMBLE_PINNED_TO_CORE=1
	-DCONFIG_BT_NIMBLE_TASK_STACK_SIZE=8192
	;-DCONFIG_BT_NIMBLE_ATT_PREFERRED_MTU 255
	-DCONFIG_NIMBLE_CPP_DEBUG_LEVEL=0
	;-DCONFIG_FATFS_LONG_FILENAMES=FATFS_LFN_STACK
	;-DCONFIG_FATFS_MAX_LFN=32
	-DNO_GLOBAL_SERIAL
	-DFEATURE_SERIAL
	;-DNO_GLOBAL_NULLSERIAL

[env:default_env]
lib_deps = ${env.lib_deps}
build_flags = ${common.build_flags}